<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rateio Rei Le√£o 2025/26</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root {
  --bg:#121212;
  --card:#1e1e1e;
  --text:#e0e0e0;
  --muted:#9e9e9e;
  --primary:#90caf9;
  --success:#66bb6a;
}

body {
  margin:0;
  font-family:system-ui, Arial;
  background:var(--bg);
  color:var(--text);
}

header {
  padding:20px;
  text-align:center;
  background:#1a1a1a;
}

header p {
  color:var(--muted);
  font-size:14px;
}

.container {
  max-width:520px;
  margin:auto;
  padding:15px;
}

.card {
  background:var(--card);
  border-radius:16px;
  padding:16px;
  margin-bottom:16px;
}

h3 { margin-top:0; }

select {
  width:100%;
  padding:12px;
  border-radius:12px;
  border:none;
  background:#2a2a2a;
  color:white;
  font-size:16px;
}

.pay {
  margin-top:14px;
  padding:14px;
  background:#252525;
  border-radius:14px;
}

.pay strong {
  color:var(--primary);
}

.desc {
  font-size:13px;
  color:var(--muted);
  margin-top:6px;
}

.pix {
  font-size:13px;
  color:var(--muted);
  margin-top:6px;
}

button {
  width:100%;
  padding:10px;
  margin-top:8px;
  border:none;
  border-radius:10px;
  background:var(--primary);
  font-weight:bold;
}

.total {
  margin-top:18px;
  font-size:19px;
  font-weight:bold;
  color:var(--success);
  text-align:center;
}

canvas {
  width:100% !important;
  height:260px !important;
}

.toast {
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  background:#333;
  padding:12px 20px;
  border-radius:20px;
  display:none;
}
</style>
</head>

<body>

<header>
  <h2>ü¶Å Rateio Rei Le√£o</h2>
  <p>Selecione seu nome e veja quanto deve pagar para cada pessoa üòÖ</p>
</header>

<div class="container">

<!-- GR√ÅFICO DE COMIDAS -->
<div class="card">
  <h3>üçΩÔ∏è Total gasto com comidas</h3>
  <canvas id="graficoComidas"></canvas>
</div>

<div class="card">
  <h3>üôã Quem sou eu?</h3>

  <select id="pessoa" onchange="calcular()">
    <option value="">Selecione seu nome</option>
    <option>Vin√≠cius</option>
    <option>Maria Luiza</option>
    <option>Gustavo</option>
    <option>Mariana</option>
    <option>Neto</option>
    <option>Maroca</option>
    <option>Gui Japah</option>
    <option>Namorada do Gui Japah</option>
    <option>Nunes</option>
    <option>Lav√≠nia</option>
    <option>Jo√£o</option>
    <option>Carol</option>
    <option>Leo</option>
    <option>Gabi</option>
    <option>V10</option>
    <option>L10</option>
    <option>Fernando</option>
    <option>Bianca</option>
    <option>Tha√≠s</option>
    <option>Veloso</option>
  </select>

  <div id="resultado"></div>
</div>

</div>

<div class="toast" id="toast">PIX copiado!</div>

<script>
const pessoasFixas = 20;

const compradoresFixos = [
  { nome:'Vin√≠cius', comida:823.30, pix:'13021329624', desc:'Mesa de frios, queijo coalho, ceviche e bingo' },
  { nome:'Fernando', comida:484.37, pix:'09290342609', desc:'Bingo, farofa e bombom' },
  { nome:'Gustavo', comida:690.00, pix:'38988398745', desc:'Churrasco' },
  { nome:'Neto', comida:240.00, pix:'38999501708', desc:'Dog√£o' },
  { nome:'V10', comida:122.30, pix:'38988114173', desc:'Carv√£o, refri e suco' },
  { nome:'Leo', comida:51.24, pix:'12612297626', desc:'Palha e vinagrete' }
];

const bebidas = {
  'Leo': { valor:450, desc:'Chopp' },
  'Gustavo': { valor:312, desc:'Heineken' }
};

const quemBebeu = [
  'V10','Vin√≠cius','Neto','Veloso','Gustavo','Leo','Gui Japah','Nunes','Jo√£o'
];

function calcular() {
  const pessoa = document.getElementById('pessoa').value;
  const div = document.getElementById('resultado');
  if (!pessoa) { div.innerHTML=''; return; }

  let total = 0;
  let html = '';
  const bebeu = quemBebeu.includes(pessoa);

  compradoresFixos.forEach(c => {
    const parteComida = c.comida / pessoasFixas;
    let valorFinal = parteComida;

    let descricaoExtra = `üçΩ ${c.desc}`;

    if (bebeu && bebidas[c.nome]) {
      const parteBebida = bebidas[c.nome].valor / quemBebeu.length;
      valorFinal += parteBebida;
      descricaoExtra += ` + üçª ${bebidas[c.nome].desc}`;
    }

    total += valorFinal;

    html += `
      <div class="pay">
        Pagar <strong>R$ ${valorFinal.toFixed(2).replace('.',',')}</strong> para <strong>${c.nome}</strong>
        <div class="desc">${descricaoExtra}</div>
        <div class="pix">PIX: ${c.pix}</div>
        <button onclick="copiarPix('${c.pix}')">Copiar PIX</button>
      </div>`;
  });

  html += `<div class="total">üí∞ Total final: R$ ${total.toFixed(2).replace('.',',')}</div>`;
  div.innerHTML = html;
}

function copiarPix(pix) {
  navigator.clipboard.writeText(pix);
  const t = document.getElementById('toast');
  t.style.display='block';
  setTimeout(()=>t.style.display='none',2000);
}

// GR√ÅFICO ‚Äì SOMENTE COMIDAS
new Chart(document.getElementById('graficoComidas'), {
  type:'bar',
  data:{
    labels: compradoresFixos.map(c=>c.nome),
    datasets:[{
      data: compradoresFixos.map(c=>c.comida),
      backgroundColor:'#90caf9'
    }]
  },
  options:{
    responsive:true,
    maintainAspectRatio:false,
    plugins:{ legend:{display:false}},
    scales:{
      x:{ ticks:{color:'#e0e0e0'}},
      y:{ ticks:{color:'#e0e0e0'}}
    }
  }
});
</script>

</body>
</html>
